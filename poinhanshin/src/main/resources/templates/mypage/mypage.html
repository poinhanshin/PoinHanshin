<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>
<style>
    body {
        font-size: .875rem;
    }

    .feather {
        width: 16px;
        height: 16px;
    }

    /*
     * Sidebar
     */

    .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        z-index: 100;
        padding: 48px 0 0;
        box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
        background-color: #f8f9fa; /* Sidebar 배경색상 */
    }

    .sidebar-sticky {
        height: calc(100vh - 48px);
        overflow-x: hidden;
        overflow-y: auto;
    }

    .sidebar .nav-link {
        font-weight: 500;
        color: #333;
    }

    .sidebar .nav-link .feather {
        margin-right: 4px;
        color: #727272;
    }

    .sidebar .nav-link.active {
        color: #2470dc;
    }

    .sidebar .nav-link:hover .feather,
    .sidebar .nav-link.active .feather {
        color: #2470dc;
    }

    .sidebar-heading {
        font-size: .75rem;
    }

    /*
     * Navbar
     */

    .navbar-brand {
        padding-top: .75rem;
        padding-bottom: .75rem;
        background-color: rgba(0, 0, 0, .25);
        box-shadow: inset -1px 0 0 rgba(0, 0, 0, .25);
    }

    .navbar .navbar-toggler {
        top: .25rem;
        right: 1rem;
    }

    .navbar .form-control {
        padding: .75rem 1rem;
    }

    .form-control-dark {
        color: #fff;
        background-color: rgba(255, 255, 255, .1);
        border-color: rgba(255, 255, 255, .1);
    }

    .form-control-dark:focus {
        border-color: transparent;
        box-shadow: 0 0 0 3px rgba(255, 255, 255, .25);
    }

    /* 프로필 이미지 스타일 */
    .profile-image {
        max-width: 100%;
        height: auto;
        border-radius: 50%; /* 원형 프로필 이미지 */
    }

    /* 프로필 레이블 스타일 */
    .profile-label {
        font-size: 16px;
        font-weight: bold;
        text-align: center;
        margin-top: 10px;
    }

    /* 네비게이션 메뉴 스타일 */
    .nav-menu {
        background-color: #ffffff; /* 네비게이션 메뉴 배경색상 */
        padding: 10px;
        border-radius: 5px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1); /* 그림자 효과 */
    }

    /* 테이블 스타일 */
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }

    th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
    }

    th {
        background-color: #f2f2f2;
    }

    tr:hover {
        background-color: #f5f5f5;
    }

    /* 각 항목의 구분선 스타일 */
    .nav-item {
        border-bottom: 1px solid rgba(0, 0, 0, 0.125);
    }

    .container {
        width: 60%;
        height: 40px;
        padding: 10px;
        text-align: center;
        background-color: rgba(255, 255, 255, 0.65);
        border-radius: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .container:hover {
        background-color: #2470dc;
        color: white;
    }

    .info {
        margin-bottom: 15px;
    }

    .info label {
        font-weight: bold;
    }

    .info span {
        display: inline-block;
        margin-left: 10px;
    }

    button {
        background-color: #2470dc;
        color: #fff;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
    }

    button:hover {
        background-color: #1959b7;
    }

    .back-button {
        background-color: #ccc;
        color: #000;
    }

    .back-button:hover {
        background-color: #999;
    }
</style>
<body layout:fragment="content">
    <div class="page">
        <div class="container-fluid">
            <div class="row">
                <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse" style="height: 1000px;">
                    <div class="position-sticky pt-3 sidebar-sticky">
                        <ul class="nav flex-column">
                            <div class="profile_m">
                            <li class="nav-item">
                                <img src="img/user.png" class="profile-image" style="width: 150px; height: 150px;">
                                <span class="profile-label d-flex justify-content-center my-2" th:if="${loginUser!=null}" th:text="${loginUser.id}">프로필</span>
                                <span class="profile-label d-flex justify-content-center my-2" th:unless="${loginUser!=null}" th:text="'프로필'">프로필</span>

                        <div class="container">
                                <!-- "회원정보조회" 버튼 -->
                            <a href="/profilePage" style="text-decoration: none; color: gray;">회원정보조회</a>
                        </div>
                            <div class="container my-2">
                                <!-- "탈퇴하기" 버튼 -->
                                <form action="/dismiss" method="post">
                                    <input type="submit" value="탈퇴하기" style="border: none; background: none; color: red; margin: 0">
                                </form>

                            </div>
                            </li>
                            </div>
                            <li class="nav-item" style="border-top: 1px solid rgba(0, 0, 0, 0.125);" >
                                <a class="nav-link active" aria-current="page" id="myPost" href="/myWrittenPage">
                                    <span data-feather="home" class="align-text-bottom"></span>
                                    내가 작성 한 글
                                </a>
                            </li>
                            <li class="nav-item" style="margin-top: 0.5em;">
                                <a class="nav-link" id="boardFav" href="/forumBookmark">
                                    <span data-feather="file" class="align-text-bottom"></span>
                                    게시판 즐겨찾기
                                </a>
                            </li>
                            <li class="nav-item" style="margin-top: 0.5em;">
                                <a class="nav-link" id="rescueFav" href="/temporaryBookmark">
                                    <span data-feather="shopping-cart" class="align-text-bottom"></span>
                                    임보자 공고 즐겨찾기
                                </a>
                            </li>
                            <li class="nav-item" style="margin-top: 0.5em;">
                                <a class="nav-link" id="findmapFav" href="/mapBookmark">
                                    <span data-feather="users" class="align-text-bottom"></span>
                                    실종/발견 지도 즐겨찾기
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>

<!--                메인내용-->

            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4" id="mainContent">

            </main>

    </div>
    </div>
    <script src="profile.js"></script>
<script>
    /*// "회원정보수정" 버튼 클릭 시 메인 컨텐츠 변경
    document.getElementById('profileBtn').addEventListener('click', function () {
        // AJAX를 사용하여 profile.html 파일을 가져옵니다.
        var xhr = new XMLHttpRequest();
        xhr.open('GET', 'profile.html', true);

        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                // AJAX 요청이 성공하면 응답 데이터를 가져옵니다.
                var profileHtml = xhr.responseText + '<button onclick="go()">회원정보 수정</button>';

                // 메인 컨텐츠에 profile.html의 내용을 삽입합니다.
                document.getElementById('mainContent').innerHTML = profileHtml;
            }
        };

        xhr.send();
    });

    // "회원정보수정" 버튼 클릭 시 메인 컨텐츠 변경
    document.getElementById('profileBtn').addEventListener('click', function () {
        // 새로운 메인 컨텐츠 내용을 생성하거나 가져옵니다.

        var newContent = '<button onclick="go()" ">수정하기</button>';

        // 기존 메인 컨텐츠를 교체합니다.
        document.getElementById('mainContent').innerHTML = newContent;
    });

    function go() {
        location.href="profedit.html";
    }

        // "탈퇴하기" 버튼 클릭 시 경고 창 표시
        document.getElementById('withdrawBtn').addEventListener('click', function () {
            var confirmWithdraw = confirm('탈퇴하시겠습니까?');

            if (confirmWithdraw) {
                // 사용자가 "네"를 선택한 경우
                // 탈퇴 처리를 수행하세요.
                alert('탈퇴가 완료되었습니다.');
            } else {
                // 사용자가 "취소"를 선택한 경우
                alert('탈퇴가 취소되었습니다.');
            }
        });

    // 돌아가기 버튼 클릭 시 브라우저 이전 페이지로 이동
    function goBack() {
        location.href="mypage.html";
    }*/
    </script>
</body>
</html>